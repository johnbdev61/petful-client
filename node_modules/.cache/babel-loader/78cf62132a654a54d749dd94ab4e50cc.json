{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John Byrne\\\\projects\\\\petful\\\\DSA-Petful\\\\petful-client-template\\\\src\\\\Components\\\\AdoptPage.js\";\nimport React, { Component } from 'react';\nimport Pet from './Pet';\nimport peopleService from '../services/people-service';\nimport petsService from '../services/pets-service';\n\nclass AdoptPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateData = () => {\n      peopleService.getPeople().then(res => {\n        this.setState({\n          people: res\n        });\n      });\n      petsService.getPets().then(res => {\n        this.setState({\n          dog: res.dog,\n          cat: res.cat,\n          loaded: true\n        });\n      });\n    };\n\n    this.handleAdopt = () => {\n      let type = Math.random() >= 0.5 ? 'cat' : 'dog';\n      petsService.adopt(type).then(() => {\n        this.updateData();\n      });\n    };\n\n    this.handleUserAdopt = type => {\n      petsService.adopt(type).then(() => {\n        this.setState({\n          userInQueue: null,\n          userAdopted: true,\n          adoptedPet: this.state[type]\n        });\n      }).then(() => {\n        this.updateData();\n      });\n    };\n\n    this.handleJoinQueue = () => {\n      if (!this.state.userInQueue) {\n        peopleService.addPerson(this.state.userName).then(res => {\n          this.setState({\n            userInQueue: this.state.userName\n          });\n          this.updateData();\n        });\n      }\n    };\n\n    this.fakeIteration = () => {\n      if (this.state.userInQueue && this.state.userInQueue !== this.state.people[0]) {\n        //this.handleAdopt();\n        if (this.state.people.length <= 6) {\n          peopleService.addPerson(this.state.names[Math.floor(Math.random() * this.state.names.length)]).then(() => {\n            setTimeout(this.handleAdopt, 2000);\n          }).then(() => {\n            this.updateData();\n          });\n        }\n      }\n    };\n\n    this.handleNameChange = e => {\n      e.preventDefault();\n      this.setState({\n        userName: e.target.value\n      });\n    };\n\n    this.state = {\n      userName: '',\n      people: [],\n      names: ['Agatha', 'Brinette', 'Chris', 'Desdemona', 'Evelyn', 'Francis', 'Grant'],\n      dog: [],\n      cat: [],\n      loaded: false,\n      userInQueue: null,\n      userAdopted: false,\n      adoptedPet: null\n    };\n  } //get value from server and update\n\n\n  componentDidMount() {\n    this.updateData();\n    setInterval(this.fakeIteration, 5000);\n  }\n\n  render() {\n    const {\n      people,\n      userInQueue\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.userAdopted && React.createElement(\"div\", {\n      style: {\n        maxWidth: '50vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Congrats, you adopted:\"), React.createElement(Pet, {\n      pet: this.state.adoptedPet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Please contact our office to arrange pickup. :)\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, !this.state.userInQueue && React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Enter your name:\"), React.createElement(\"input\", {\n      onChange: this.handleNameChange,\n      value: this.state.userName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.handleJoinQueue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Join Queue\")), React.createElement(\"div\", {\n      className: \"queue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Current Adoption Queue: \", this.state.people.length), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, people.map((person, idx) => {\n      if (idx === 0) return React.createElement(\"li\", {\n        key: idx,\n        style: {\n          fontSize: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Currently Up: \", person);else if (idx < 10) return React.createElement(\"li\", {\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, person);else return;\n    }))), React.createElement(\"div\", {\n      className: \"pet-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, userInQueue === people[0] && React.createElement(\"button\", {\n      onClick: () => this.handleUserAdopt('cat'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Adopt \", this.state.cat.name), userInQueue === people[0] && React.createElement(\"button\", {\n      onClick: () => this.handleUserAdopt('dog'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Adopt \", this.state.dog.name)), React.createElement(\"div\", {\n      className: \"pet-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Pet, {\n      pet: this.state.cat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(Pet, {\n      pet: this.state.dog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default AdoptPage;","map":{"version":3,"sources":["C:/Users/John Byrne/projects/petful/DSA-Petful/petful-client-template/src/Components/AdoptPage.js"],"names":["React","Component","Pet","peopleService","petsService","AdoptPage","constructor","props","updateData","getPeople","then","res","setState","people","getPets","dog","cat","loaded","handleAdopt","type","Math","random","adopt","handleUserAdopt","userInQueue","userAdopted","adoptedPet","state","handleJoinQueue","addPerson","userName","fakeIteration","length","names","floor","setTimeout","handleNameChange","e","preventDefault","target","value","componentDidMount","setInterval","render","maxWidth","map","person","idx","fontSize","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Pet from './Pet'\r\n\r\nimport peopleService from '../services/people-service'\r\nimport petsService from '../services/pets-service'\r\n\r\nclass AdoptPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      userName: '',\r\n      people: [],\r\n      names: [\r\n        'Agatha',\r\n        'Brinette',\r\n        'Chris',\r\n        'Desdemona',\r\n        'Evelyn',\r\n        'Francis',\r\n        'Grant',\r\n      ],\r\n      dog: [],\r\n      cat: [],\r\n      loaded: false,\r\n      userInQueue: null,\r\n      userAdopted: false,\r\n      adoptedPet: null,\r\n    }\r\n  }\r\n\r\n  //get value from server and update\r\n  updateData = () => {\r\n    peopleService.getPeople().then((res) => {\r\n      this.setState({\r\n        people: res,\r\n      })\r\n    })\r\n    petsService.getPets().then((res) => {\r\n      this.setState({ dog: res.dog, cat: res.cat, loaded: true })\r\n    })\r\n  }\r\n  //remove\r\n  handleAdopt = () => {\r\n    let type = Math.random() >= 0.5 ? 'cat' : 'dog'\r\n    petsService.adopt(type).then(() => {\r\n      this.updateData()\r\n    })\r\n  }\r\n\r\n  handleUserAdopt = (type) => {\r\n    petsService\r\n      .adopt(type)\r\n      .then(() => {\r\n        this.setState({\r\n          userInQueue: null,\r\n          userAdopted: true,\r\n          adoptedPet: this.state[type],\r\n        })\r\n      })\r\n      .then(() => {\r\n        this.updateData()\r\n      })\r\n  }\r\n\r\n  handleJoinQueue = () => {\r\n    if (!this.state.userInQueue) {\r\n      peopleService.addPerson(this.state.userName).then((res) => {\r\n        this.setState({\r\n          userInQueue: this.state.userName,\r\n        })\r\n        this.updateData()\r\n      })\r\n    }\r\n  }\r\n\r\n  fakeIteration = () => {\r\n    if (\r\n      this.state.userInQueue &&\r\n      this.state.userInQueue !== this.state.people[0]\r\n    ) {\r\n      //this.handleAdopt();\r\n      if (this.state.people.length <= 6) {\r\n        peopleService\r\n          .addPerson(\r\n            this.state.names[\r\n              Math.floor(Math.random() * this.state.names.length)\r\n            ]\r\n          )\r\n          .then(() => {\r\n            setTimeout(this.handleAdopt, 2000)\r\n          })\r\n          .then(() => {\r\n            this.updateData()\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    e.preventDefault()\r\n    this.setState({\r\n      userName: e.target.value,\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateData()\r\n    setInterval(this.fakeIteration, 5000)\r\n  }\r\n\r\n  render() {\r\n    const { people, userInQueue } = this.state\r\n    return (\r\n      <div>\r\n        {this.state.userAdopted && (\r\n          <div style={{ maxWidth: '50vw' }}>\r\n            <h1>Congrats, you adopted:</h1>\r\n            <Pet pet={this.state.adoptedPet} />\r\n            <p>Please contact our office to arrange pickup. :)</p>\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          {/* <button onClick={this.handleAdopt}>Adopt</button> */}\r\n          {!this.state.userInQueue && (\r\n            <>\r\n              <span>Enter your name:</span>\r\n              <input\r\n                onChange={this.handleNameChange}\r\n                value={this.state.userName}\r\n              />\r\n              <button onClick={this.handleJoinQueue}>Join Queue</button>\r\n            </>\r\n          )}\r\n          <div className='queue'>\r\n            <h4>Current Adoption Queue: {this.state.people.length}</h4>\r\n            <ul>\r\n              {people.map((person, idx) => {\r\n                if (idx === 0)\r\n                  return (\r\n                    <li key={idx} style={{ fontSize: 40 }}>\r\n                      Currently Up: {person}\r\n                    </li>\r\n                  )\r\n                else if (idx < 10) return <li key={idx}>{person}</li>\r\n                else return\r\n              })}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className='pet-box'>\r\n            {userInQueue === people[0] && (\r\n              <button onClick={() => this.handleUserAdopt('cat')}>\r\n                Adopt {this.state.cat.name}\r\n              </button>\r\n            )}\r\n            {userInQueue === people[0] && (\r\n              <button onClick={() => this.handleUserAdopt('dog')}>\r\n                Adopt {this.state.dog.name}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className='pet-box'>\r\n            <Pet pet={this.state.cat} />\r\n            <Pet pet={this.state.dog} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AdoptPage"]},"metadata":{},"sourceType":"module"}